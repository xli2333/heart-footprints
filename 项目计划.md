整体设计、架构与技术蓝图
这份文件定义了“心迹地图”的灵魂和骨架。

1. 产品核心理念与设计哲学
在细化功能前，我们必须统一产品的核心感觉。它不是一个工具，而是一个**“数字化的二人世界” (A Digital Sanctuary for Two)**。

核心理念: 私密、温暖、有生命感。每一次互动都应感觉是与对方的连接，而不是与一个冰冷的程序交互。

设计哲学:

极简留白 (Minimalism & Focus): 界面上永远不应该出现无关的元素。内容（你们的照片、文字、距离）是绝对的主角。大量的留白给予内容呼吸的空间，营造宁静、专注的氛围。

情感共鸣 (Emotional Resonance): 设计的每一个细节都应服务于情感。比如，一个按钮的按下动效，不应只是“酷炫”，而应是“温柔”的。数据的展示，不应只是“清晰”，而应是“有故事性”的。

直觉易用 (Intuitive & Effortless): 功能不需任何学习成本。操作路径要极度短、符合直觉。让你们可以把精力完全放在“表达”和“感受”上，而非“如何使用”。

细节惊喜 (Delight in the Details): 丝滑的体验来自于无数微交互(Micro-interactions)的堆砌。一个图标的轻微跳动、一次加载的平滑过渡、一句恰到好处的提示文案，都能极大地提升幸福感。

2. UI/UX 风格定义: 「温暖日记」(The "Warm Diary" Style)
我们将采用一种融合了现代极简与手账温度感的视觉风格。

色彩体系 (Color Palette):

主背景色: 米白 (#F8F5F2) 或 纸莎白 (#FEFBF6)。避免使用刺眼的纯白，营造一种温暖、复古的纸张质感。

主文本色: 炭灰 (#333333)。避免使用纯黑，让文字看起来更柔和，不突兀。

主题强调色 (Accent Color): 这是你们爱情的颜色。选择一种低饱和度、高质感的颜色，如 豆沙红 (#C58787)、落日橘 (#E3A07A) 或 鼠尾草绿 (#A7BCA9)。这个颜色将用于所有可交互元素，如按钮、链接、图标高亮等。（后续可以做一个小功能，让你们可以自己选择专属的年度主题色）

辅助色: 浅灰 (#E0E0E0)，用于分割线、卡片描边等，保持界面的呼吸感。

字体方案 (Typography):

标题/重要信息 (Headings): 使用一款优雅的衬线字体 (Serif)，营造故事感和精致感。

推荐: 思源宋体 (Source Han Serif CN) 或 Noto Serif SC。

正文内容 (Body): 使用一款清晰、现代的无衬线字体 (Sans-serif)，保证长时间阅读的舒适性。

推荐: Inter (英文) 和 苹方 (PingFang SC) / 思源黑体 (Source Han Sans CN) (中文)。

字重: 克制地使用粗体，仅用于需要强调的地方，保持页面的轻盈感。

图标 (Iconography):

风格: 线性、描边图标 (Line Icons)。

推荐库: Feather Icons 或 Tabler Icons。它们的风格简洁、优雅，与整体设计完美融合。图标的描边粗细应统一。

布局与元素 (Layout & Elements):

布局: 卡片式设计 (Card-based Design)。每个独立内容（如一张照片、一个倒计时）都包裹在一个卡片中。

圆角: 大量使用 8px 到 12px 的圆角，用于卡片、按钮、图片，营造亲和、柔软的视觉感受。

阴影: 使用非常细腻、弥散的阴影 (box-shadow) 为卡片增加层次感，避免使用生硬的描边。

3. 技术栈选型与架构 (Tech Stack & Architecture)
这份技术选型旨在实现极致的开发体验和用户体验，且对个人开发者非常友好。

前端 (Frontend):

框架: Next.js (基于 React)。

理由: 提供了最佳的开发体验和性能。其文件路由系统直观，支持服务端渲染(SSR)和静态站点生成(SSG)，能让网站首屏加载飞快，感觉“ мгновенно”。

样式: Tailwind CSS。

理由: 原子化CSS框架，可以极速构建出任何设计。与我们的"温暖日记"风格完美契合，可以轻松定义主题色、字体等，全局生效。

UI组件库: Shadcn/ui。

理由: 这不是一个传统的组件库，而是可供复制粘贴、完全自定义的组件代码。它美观、无障碍设计极佳，并且基于 Tailwind CSS，可以完美融入我们的项目。我们将用它来构建按钮、卡片、输入框、弹窗等。

动画库: Framer Motion。

理由: 实现“丝滑”体验的关键。API极其简单强大，可以轻松为页面切换、组件加载、按钮点击等添加优雅的动画效果。

状态管理: Zustand。

理由: 轻量、简洁的全局状态管理库。对于这个项目规模恰到好处，避免了 Redux 的复杂性。

数据请求: SWR 或 React Query。

理由: 它们内置了缓存、自动重新请求等高级功能，能让数据展示更流畅、更智能。

后端即服务 (Backend as a Service - BaaS):

核心平台: Supabase。

理由: 对个人开发者而言是“神器”。它集成了我们需要的一切，极大降低了后端开发和运维的复杂度。

数据库 (Database): 内置了强大的 PostgreSQL 数据库。

认证 (Authentication): 提供完整的用户登录、注册、会话管理方案，安全可靠。

对象存储 (Storage): 用于存放我们所有的照片文件，自带CDN加速。

边缘函数 (Edge Functions): 用于执行后端逻辑，比如接收两个人的经纬度并安全地计算距离。这是实现Haversine公式计算的最佳位置。

实时 (Realtime): 可以用来实现一些高级功能，比如显示“对方正在输入...”，或者当一方上传了新照片，另一方的页面可以实时更新，创造惊喜感。

地图服务 (Map Service):

推荐: Mapbox。

理由: 提供了高度可定制的地图样式，我们可以设计一个与“温暖日记”UI风格完全匹配的专属地图（例如，淡化路网，使用柔和的颜色）。免费额度对于个人项目完全足够。

4. 数据库结构设计 (Database Schema)
这是给开发者的核心蓝图，定义了数据如何被组织。我们将基于 Supabase 的 PostgreSQL 进行设计。

模块一：登录设置——我们的暗号 (Our Secret Codes)
核心理念: 你们各自的密码就是进入这个世界的专属钥匙。门只有一扇，但钥匙有两把，系统能立刻认出是哪位主人回家了。

1. 最终用户体验 (The Definitive Experience)
唯一的入口:

网站入口依然是那个只有一个输入框的极简页面。

提示语可以是：“请输入我们的暗号”。

无缝的身份识别:

你输入你的专属密码，点击“进入”。

她输入她的专属密码，点击“进入”。

不再需要登录后再选择“我是谁”。系统在你输入密码的那一刻，就已经知道是你还是她。

整个过程行云流水，没有任何多余的步骤。后续所有操作（定位、上传照片）都将自动署上你的名字。

个性化欢迎 (可选的加分项):

为了增加情感温度，可以在进入主页后，显示一句短暂而温暖的欢迎语。

如果是你登录，会显示：“欢迎回来，[你的昵称]！”

如果是她登录，会显示：“今天过得好吗，[她的昵称]？”

这句问候语会在几秒钟后自动淡出，不干扰主页内容。

2. 最终开发者实现指南 (The Definitive Guide)
这个方案在技术上依然非常简洁，但逻辑比之前的“单密码+选择”方案更清晰、更健壮。

环境变量 (Environment Variables):

在你的部署平台（如 Vercel）上，你需要设置四个环境变量。这是你们爱情公寓的“底层契约”：

USER_HIM_PASSWORD: 你的专属密码

USER_HER_PASSWORD: 她的专属密码

USER_HIM_NAME: 你的昵称

USER_HER_NAME: 她的昵称

后端验证 API (例如 pages/api/login.js):

逻辑流程:

API 接收到前端发来的 submittedPassword。

API 从服务端读取环境变量：process.env.USER_HIM_PASSWORD 和 process.env.USER_HER_PASSWORD。

进行判断：

JavaScript

let user = null;
if (submittedPassword === process.env.USER_HIM_PASSWORD) {
  user = { id: 'him', name: process.env.USER_HIM_NAME };
} else if (submittedPassword === process.env.USER_HER_PASSWORD) {
  user = { id: 'her', name: process.env.USER_HER_NAME };
}
如果 user 不为 null，则验证成功。否则，验证失败。

会话管理 (Session via JWT & Cookie):

验证成功后:

使用一个密钥（也存储在环境变量中，如 JWT_SECRET）来创建一个 JWT (JSON Web Token)。

JWT 的载荷 (payload) 就是上一步识别出的 user 对象: { id: 'him', name: '...' }。

这个 JWT 就像一张加密的“身份证”。

将这个 JWT 存入一个 HttpOnly, Secure 的 Cookie 中，并发送给浏览器。这能有效防止 XSS 攻击，比存在 localStorage 更安全。

验证失败后:

返回一个 401 Unauthorized 错误状态码。前端收到这个状态码后，就可以执行输入框“左右晃动”的动画。

后续所有 API 请求:

浏览器在后续访问任何 API（如上传照片）时，都会自动带上这个存有 JWT 的 Cookie。

你的每一个 API 在执行核心逻辑前，都要先验证并解析这个 JWT，从中读出用户信息 { id: 'him', ... }。

这样，后端就能准确地知道这次操作是谁发起的，并将 user.id ('him' 或 'her') 存入数据库的相应记录中。

对数据库设计的影响:

好消息: 我们不再需要 profiles 表了！用户的ID (him/her) 和昵称都由环境变量管理，这让我们的数据库结构变得更加纯粹和简单。

在 memories (照片), daily_locations (位置) 等表中，原先的 user_id 字段 (之前是 UUID 类型) 现在可以直接改为 TEXT 类型，用来存储 'him' 或 'her'。

模块二：今日之约 (Today's Connection)
核心理念: 将每日的定位同步，从一个技术操作升华为一种充满仪式感的情感互动。它应该感觉像是每天清晨，你们在地图上给对方一个“早安吻”。

1. 用户故事 (User Stories)
作为用户，我希望： 每天都能轻松地、有仪式感地同步一次我的位置，让对方知道我今天在哪里。

作为用户，我希望： 当我们俩都同步后，能立刻、直观地看到我们相距多远，这种数字化的距离感能提醒我思念的长度。

作为用户，我希望： 这个过程是双向的、充满互动的。我能知道对方是否已经同步，这会给我一种期待感。

作为用户，我希望： 能回顾我们每一天的距离变化，这本身就是我们异地恋故事里一条独特的“心电图”。

2. UX/UI 体验与“丝滑”打磨
我们将整个体验拆解为三个环节：「每日的呼唤」、「心跳的同步」、「此刻的连接」。

环节一：每日的呼唤 (The Daily Call)
这是每天进入主页后，最先映入眼帘的模块，它在温柔地提醒你们完成今天的约定。

UI 布局:

在主页的顶部或最显眼的位置，有一个专属的卡片区域。

初始状态 (双方都未同步):

卡片中央是一个 beautifully designed 的主视觉，可以是一个简约的地球/地图轮廓图标。

主标题 (H1, 衬线字体): 今天，你在哪儿？

下方是一个醒目但不过分突兀的按钮，使用我们的主题强调色 (如豆沙红)。按钮文字是 同步我的足迹。

按钮下方有一行小字，带着期待的口吻：等待你们的同步...

环节二：心跳的同步 (The Synchronizing Heartbeat)
这是交互的核心，我们要把等待和反馈做得充满情感。

当你先同步 (一方已同步):

交互: 你点击 同步我的足迹 按钮。

前端: 浏览器弹出标准的地理位置授权请求。你点击“允许”。

动画: 按钮上的文字变为一个优雅的加载动画 (loading spinner)，持续1-2秒。

成功后: 整个卡片的状态发生平滑的过渡变化 (Cross-fade animation)。

UI 变化 (你的视角):

主视觉图标从“地球”变为“你这边的半个心形”。

主标题变为：你的足迹已同步。

原先的按钮位置，变成了一段温柔的文字：等待 [她的昵称] 的回应...，文字后面可以有一个缓慢闪烁的光点，模拟心跳或呼吸感。

UI 变化 (她的视角，当她登录后):

她看到的卡片，主视觉是“你那边的半个心形”。

主标题变为：[你的昵称] 正在等你。

她看到的按钮文字变为 回应他的足迹。这比“同步”二字更有互动感。

环节三：此刻的连接 (The Connection Made)
当两个人都完成同步后，这是每天的高光时刻。

最终状态 (双方都已同步):

动画: 当第二个人点击按钮并同步成功后，卡片会有一个“绽放”或“点亮”的动画效果。

两个半颗心会从两边向中间汇合，最终组成一个完整的心形 ❤️。

同时，背景可能会出现一些非常 subtle (微妙) 的粒子效果，随后消失。

UI 最终呈现:

核心信息: 卡片中央，用优雅的衬线字体和最大的字号，清晰地展示计算出的距离：

1,421.3 公里

副标题: 在距离下方，用一行小字写上：是此刻我们心的距离。

地图可视化 (点睛之笔):

在距离下方，会有一个小小的、简约风格的地图预览。

地图上，用两个小小的、跳动的心形标记出你们俩的位置。

两个标记之间，有一条发光的、有动态流光效果的细线连接着。

点击这个地图预览，可以放大成一个全屏的、可交互的地图（使用 Mapbox），让你能更清晰地看到彼此的位置。

每日心情 (可选拓展): 在同步位置时，可以附带选择一个代表今天心情的 Emoji (😊/😢/😴...)。这个 Emoji 会显示在地图上你的标记旁边，让对方不仅知道你在哪，还知道你今天心情如何。

历史记录:

在主页下方或单独的页面，有一个“我们的足迹”模块。

使用图表库 (如 Recharts 或 Chart.js)，将每一天的距离数据渲染成一条平滑的曲线图。

X轴是日期，Y轴是距离(km)。

你可以清晰地看到距离的波动，某一天因为出差变远，或者未来相聚时，曲线触底归零的激动人心。

模块三：时光相册 (The Memory Gallery)
核心理念: 每一次上传，都是一次“思念的投递”；每一次浏览，都是一次“温暖的回溯”。我们追求的不是效率，而是沉浸感和故事感。

1. 用户故事 (User Stories)
作为用户，我希望： 能非常方便地把我今天遇到的、想分享给你的瞬间（一张照片）和心情（一句话）发送到我们的专属空间里。

作为用户，我希望： 看到我们俩的照片自然地融合在一起，像一本共同书写的、不断增厚的精美日记。

作为用户，我希望： 在浏览照片时，能一眼看出这是谁分享的、什么时候分享的，感受彼此生活的交织。

作为用户，我希望： 点击任何一张照片，都能进入一个不被打扰的、沉浸式的“看图模式”，静静地重温那个瞬间。

2. UX/UI 体验与“丝滑”打磨
我们将体验分为三个核心场景：「寄送此刻」、「漫步回忆」、「重温瞬间」。

场景一：寄送此刻 (Sending The Moment)
这是上传体验，我们要把它做得像寄出一张明信片一样充满仪式感。

上传入口:

在界面的右下角，始终悬浮一个圆形的主题色“+”按钮 (Floating Action Button)。

微交互: 鼠标悬停时，按钮会轻微旋转，同时出现一个“寄送此刻”的文字提示。

上传面板:

点击“+”按钮后，不是弹出一个简陋的文件选择框，而是从屏幕下方平滑地滑出一个设计精美的上传面板。

UI 布局:

面板顶部是一个大大的、支持拖拽的区域，文案是拖拽照片到这里，或点击选择。

选择照片后，立即出现清晰的图片预览。

预览下方是一个宽敞的文本输入区域，占位符(Placeholder)文案是关于这一刻，我想说...。

最下方是一个醒目的提交按钮，文字是 放入我们的回忆。

“丝滑”体验:

上传过程中，提交按钮会变为一个带有百分比的进度条，给予清晰的反馈。

上传成功后，按钮上显示一个“✓”，整个面板会自动、平滑地收起。

同时，刚刚上传的照片会以一个缩小版的、带有光晕的姿态，“飞”向主页的画廊中，并优雅地在顶部“落定”。这个视觉反馈会带来极大的满足感。

场景二：漫步回忆 (Walking The Memory Lane)
这是画廊的浏览体验，我们要打造一面有生命力的“记忆暖墙”。

画廊布局:

采用瀑布流 (Masonry) 布局。这种错落有致的排列方式，能完美适应不同尺寸和比例的照片，比死板的网格更具艺术感和呼吸感。

无限滚动: 当你滚动到页面底部时，新的照片会自动加载，无需点击“下一页”，实现无缝的沉浸式浏览。

记忆卡片 (Memory Card):

每张照片都是一张卡片，默认状态下只显示照片，保持墙面的干净。

悬停交互 (Hover): 当鼠标悬停在某张照片上时：

照片会轻微地向上浮起，并增加一层柔和的阴影，仿佛被“激活”。

照片下方会平滑地滑出一个半透明的深色遮罩。

遮罩上用白色文字显示照片的描述、上传者昵称和日期（例如：“来自[她的昵称] · 3天前”）。

场景三：重温瞬间 (Reliving The Moment)
这是单张照片的查看体验，目标是创造一个“电影院”般的专注环境。

打开方式:

点击任意一张“记忆卡片”。

核心动画 (Shared Element Transition): 这张被点击的照片，会平滑地、无缝地从它在瀑布流中的位置和尺寸，放大到屏幕中央。这个动画是“丝滑感”的灵魂。

同时，背景会渐变为半透明的黑色，让所有干扰都消失。

看图模式 (Lightbox View):

屏幕中央是高清大图。

图片下方是清晰的文字区域，展示着完整的描述、上传者和精确的上传时间。

屏幕左右两侧会出现“<”和“>”的导航箭头，让你可以在这个沉浸模式中切换上一张和下一张照片。同样支持键盘的左右方向键操作。

点击背景的黑色区域或按 Esc 键，照片会以同样的平滑动画，缩小飞回它在画廊中的原始位置。

模块四：我们的约定与期盼 (Our Promises & Anticipation)
核心理念: 这个空间不仅记录过去和现在，更承载着你们对未来的共同期盼和那些不便在即时通讯中表达的深情。

这个模块包含两个相辅相承的功能：「倒数日」和「时光信札」。

模块四： 「倒数日」 (The Countdown)
用户故事:

作为用户，我希望有一个共同的地方，可以设置我们下一次见面的日期，然后看着时间一天天减少，这会给漫长的等待增添巨大的动力和期待感。

作为用户，我希望能轻松地创建和修改倒数日，并把它放在最显眼的地方。

UX/UI 体验与“丝滑”打磨
展示位置:

在主页上，紧随「今日之约」模块之后，会有一个专门的“倒数日”卡片。它会是页面的另一个视觉焦点。

卡片设计:

有事件时:

卡片的背景可以是你们为这次“约定”专门上传的一张照片（例如，目的地的风景、上一次见面的合影），并做模糊或调暗处理，以突出文字。

卡片正中是事件的标题，例如 “我们的厦门之旅”。

标题下方是巨大的、动态更新的数字时钟，用优雅的衬线字体展示：

12 天 08 小时 26 分钟 51 秒

数字会以一种平滑的“翻页”或“淡入淡出”效果进行更新，而不是生硬地跳动。

无事件时:

卡片会显示一个温柔的提示：“还没有新的约定哦，一起计划下一次见面吧？”

同时提供一个“设置新约定”的按钮。

设置流程:

点击“设置新约定”或卡片上的编辑按钮，会弹出一个简洁的设置面板 (Modal)。

面板中只需要三个字段：事件标题、目标日期与时间 (使用一个美观的日期时间选择器组件)、自定义背景图 (可选)。

点击“约定好了”，面板平滑收起，主页上的倒数日卡片立即更新为最新状态。

模块五：「时光信札」 (Letters in Time)
用户故事:

作为用户，有些心里话不适合在微信里三言两语说清，我希望能像写信一样，用一种更从容、更有仪式感的方式记录下来并“寄”给她。

作为用户，我希望能给她一个惊喜，写一封信并设定在未来的某个特殊日子（她的生日、纪念日）自动“送达”，想象她到时看到的惊喜，我觉得很浪漫。

UX/UI 体验与“丝滑”打磨
入口与提醒:

在网站的导航栏或一个不打扰的角落，有一个“信封”图标。

当有未读的新信件时，信封图标右上角会出现一个主题色的小红点，这是一种克制而有效的提醒。

信箱界面 (收件箱):

点击信封图标进入。左侧是信件列表，右侧是内容区域。

信件列表像邮箱一样，清晰地展示发信人、信件标题(可选)或内容预览、收信日期。

未读的信件会用一个醒目的圆点或加粗字体来标示。

对于那些尚未“送达”的定时信件，发信人自己能看到一个“等待寄送中...”的特殊标记。

阅读体验:

点击一封信件，右侧内容区会呈现信的内容。

动画: 我们模拟一个“拆信”的动画。信件列表中的条目会像一张卡片一样“飞”到右侧，然后展开。

信的内容会以非常干净、适合阅读的排版呈现，仿佛在读一篇精心编辑过的文章。

写信体验 (发件箱):

提供一个“写新信”的按钮，进入一个**“禅模式” (Zen Mode)** 的编辑器。

编辑器会占据屏幕大部分空间，隐藏所有不必要的干扰元素，只有一个干净的文本输入区域和下方的几个操作按钮。

核心功能: 在发送按钮旁边，有一个“日历”图标，点击后可以选择“立即寄送”或“定时寄送”。选择定时后，会出现一个日期选择器。
最终篇章：筑巢与安家 (Deployment & Maintenance)
核心理念: 部署不是一个复杂的技术挑战，而是为你们的爱巢“剪彩”的神圣仪式。我们将选择最省心、最现代化的方式，让你能专注于创造，而非运维。

第一阶段：准备工作 (The Foundation)
在“动工”之前，我们需要备好所有的“建筑材料”。

代码的家 - GitHub:

要做什么: 你需要将你的所有项目代码，托管在一个 GitHub 仓库中。

关键操作: 请务必将这个仓库设置为“私有” (Private)。这是你们的二人世界，代码也不应被外人看见。

为什么: GitHub 不仅是代码的版本管家，更是连接我们后续所有自动化部署流程的“心脏”。

注册通行证:

你需要注册以下几个平台的账号，它们将构成我们整个服务的基石：

GitHub: 你的代码仓库 (已经有了)。

Vercel: 你的网站托管和前端部署平台。请使用你的 GitHub 账号直接登录 Vercel，这是实现无缝连接的关键。

Supabase: 你的后端、数据库和文件存储服务。

Mapbox: 你的地图服务提供商（如果需要自定义地图）。

整理“家庭密钥” (环境变量):

这是至关重要的一步。在整个项目中，我们定义了许多“秘密”，它们绝不能写在代码里。你需要将它们全部整理出来，稍后我们会把它们配置到 Vercel 上。

你的密钥清单:

Ini, TOML

# 模块一：我们的暗号
USER_HIM_PASSWORD = "你的专属密码"
USER_HER_PASSWORD = "她的专属密码"
USER_HIM_NAME = "你的昵称"
USER_HER_NAME = "她的昵称"

# 会话加密密钥 (自己生成一个复杂的随机字符串)
JWT_SECRET = "一个非常长且随机的字符串，例如用密码生成器生成"

# 模块二 & 三 & 四：Supabase 后端连接信息
# 你可以在 Supabase 项目的 Settings -> API 中找到这些
NEXT_PUBLIC_SUPABASE_URL = "你的Supabase项目URL"
NEXT_PUBLIC_SUPABASE_ANON_KEY = "你的Supabase项目anon key"

# 模块二 & 三 & 四：地图服务 (如果使用 Mapbox)
# 你可以在 Mapbox 账号的 Tokens 页面找到
NEXT_PUBLIC_MAPBOX_TOKEN = "你的Mapbox public token"
第二阶段：后端安家 (Setting up Supabase)
这是为你们的数据和照片建造一个安全、可靠的“仓库”。

创建项目: 在 Supabase 官网上，点击 Start your project -> New project，选择离你们物理位置较近的区域，设置一个项目名称和安全的数据库密码。

执行数据库蓝图:

项目创建好后，进入左侧菜单的 SQL Editor。

将我们之前设计的所有 CREATE TABLE 语句一次性复制粘贴进去，然后点击 RUN。你们的数据库结构瞬间就建好了。

开辟存储空间:

进入左侧菜单的 Storage。

点击 New bucket，创建一个名为 memories 的存储桶，用于存放你们的时光相册照片。

如果倒数日模块做了自定义背景图，可以再创建一个名为 backgrounds 的存储桶。

获取API密钥:

进入左侧菜单的 Settings -> API。

在这里，你会找到上面密钥清单中需要的 Project URL 和 Project API Keys (anon, public)。把它们复制到你的清单里备用。

第三阶段：一键筑巢 (Deploying with Vercel)
这是最激动人心的一步，你将亲手将网站发布到全球网络中。

导入项目:

登录 Vercel (用你的 GitHub 账号)。

在 Dashboard 页面，点击 Add New... -> Project。

Vercel 会展示你的所有 GitHub 仓库，找到并选择你创建的那个私有仓库，点击 Import。

配置项目:

框架识别: Vercel 会自动识别出这是一个 Next.js 项目，你无需做任何修改。

配置环境变量: 这是部署的灵魂。展开 Environment Variables 区域。

逐一添加: 将你在第一阶段整理的“家庭密钥”清单，一条一条地添加进去。左边是变量名 (如 USER_HIM_PASSWORD)，右边是它的值。

特别注意: 所有以 NEXT_PUBLIC_ 开头的变量，是需要暴露给前端浏览器使用的。其他的变量，Vercel 会安全地保管在后端，前端无法访问。

部署！

点击 Deploy 按钮。

然后，泡杯咖啡，静静地欣赏。Vercel 会自动从 GitHub 拉取你的代码，在云端进行构建、打包、优化，然后部署到一个全球CDN网络上。

整个过程通常只需要一两分钟。完成后，Vercel 会为你生成一个 .vercel.app 结尾的免费域名，同时屏幕上会绽放庆祝的烟花！

恭喜！你们的“心迹地图”已经正式上线了！ 你可以把这个链接发给她，无论她在世界的哪个角落，都可以通过你们的暗号，进入这个家。

第四阶段：挂上门牌 (Custom Domain)
为了让这个家更有归属感，一个专属的域名是最好的“门牌”。

购买域名: 你可以在 GoDaddy, Namecheap, 阿里云等平台购买一个对你们有特殊意义的域名 (例如 our-story-map.com)。

绑定域名:

在 Vercel 的项目面板中，进入 Settings -> Domains。

输入你购买的域名并添加。

Vercel 会提供给你几个 DNS 配置记录（通常是 A 记录或 CNAME 记录）。

你需要登录你的域名提供商的管理后台，找到 DNS 设置，把 Vercel 提供的值添加进去。

等待几分钟到几小时，DNS 全球生效后，你们就可以通过自己的专属域名访问这个网站了。Vercel 会自动为你的域名配置好 HTTPS 加密。

第五阶段：日常维护与更新 (Living & Growing)
家是需要维护和成长的。得益于我们的现代化流程，这一切都变得异常简单。

想增加新功能或修改设计？

在你的本地电脑上修改代码。

完成后，在你的代码仓库中执行 git push 命令，将改动推送到 GitHub。

然后？没有然后了。 Vercel 会在检测到你推送新代码的瞬间，自动开始一次全新的部署。几分钟后，你的网站就已经是最新版本了，整个过程零停机、全自动。

想修改密码或昵称？

登录 Vercel，进入项目设置里的 Environment Variables，直接修改对应的值，然后重新触发一次部署 (在 Deployments 页面可以找到 Redeploy 按钮)。

数据安全？

Supabase 会每天自动为你备份数据库，你可以在后台找到备份记录。你们的回忆是安全的。
